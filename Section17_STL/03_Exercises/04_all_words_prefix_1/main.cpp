/*
 * ********************************************************************************************************************
 *
 *   *****   *************************   **************   ***********************
 *  ******   *************************   **************   ***********************
 *  **       ***                       **               ***
 *  **       ***                       **               ***
 *  **       *************************   **************   ***********************
 *  **       *************************   **************   ***********************
 *  **       ***                       **               ***
 *  **       ***                       **               ***
 *  ******   ***                       **************   ***
 *   *****   ***                       **************   ***
 *
 * ********************************************************************************************************************
 *
 *   Copyright (c) 2021-2024, Sci-Fi Robotics Ltd.
 *   All rights reserved.
 *
 *   This library is free software; you can redistribute it and/or
 *   modify it under the terms of the MIT License.
 *
 *   This library is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the MIT
 *   License for more details.
 *
 *   You should have received a copy of the MIT License along with
 *   this library; if not, write to info@scifi-robotics.com.
 *
 * ********************************************************************************************************************
 *
 *   AUTHOR: Your Name.
 *
 *   DATE: 12/21/2023
 *
 *   PROJECT: C++ How To Program.
 *
 *   DESCRIPTION:
 *     A brief description of the program.
 *
 * ********************************************************************************************************************
 */

/**********************************************************************************************************************
 *  FILE INCLUSIONS
 *********************************************************************************************************************/
#include <iostream>
#include <queue>
#include <stack>
#include <map>

using namespace std;
/**********************************************************************************************************************
 *  GLOBAL CONSTANTS & VARIABLES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  TYPE DEFINITIONS & STRUCTS/CLASSES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL & GLOBAL MACROS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTION DECLARATIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTION DEFINITIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  MAIN FUNCTION
 ************************************************************************t********************************************/
vector<string> formulate_prefixes(string &st)
{
    vector<string> result;
    string tmp{""};
    for(auto i : st)
    {
        tmp += i; 
        result.push_back(tmp);
    }

    return result;
}
int main(int argc, char const *argv[])
{
    map<int,map<string,vector<string>>> words;
    string temp_str; 
    vector<string> temp_vect;


    int N{0};

    cout << "Enter the number of words: ";
    cin >> N; 

    for(auto i{0}; i != N; ++i)
    {
        cin >> temp_str;
        words[i][temp_str] = formulate_prefixes(temp_str);


    }

    cout << "Enter the number of queries: ";
    cin >> N;

    for (auto i{0}; i != N; ++i)
    {
        cin >> temp_str;

        for (const auto &[index, inner_map] : words)
        {
            for(const auto &[key,value] : inner_map)
            {
                for (auto x : value)
                {
                    if (x == temp_str)
                    {
                        cout << key << " ";
                    }
                }
            }

        }
        cout << endl; 
    }

    return 0;
}
